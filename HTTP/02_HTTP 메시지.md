## 요청 메시지의 형식

```tex
<메서드><요청URL><버전>

<헤더>

<엔티티 본문>
```

- 요청 URL
  - 요청 대상이 되는 리소스를 지칭하는 완전한 URL 혹은 URL의 경로 구성이다.

- 버전
  - 메시지에서 사용중인 HTTP의 버전이다. HTTP/1.0과 같은 형식이다.

- 요청 헤더
  - 일반 캐시 헤더 
    - 애플리케이션에게 매번 서버로부터 객체를 가져오는 대신 로컬 복사본으로 캐시할 수 있도록 해주는 최초의 헤더를 도입했다.
  - 요청 보안 헤더
    - HTTP는 자체적으로 요청을 위한 간단한 인증요구/응답 체계를 갖고 있다. 그것은 요청하는 클라이언트가 어느정도 리소스에 접근하기 전에 자신을 인증하게 함으로써 트랜잭션을 약간 더 안전하게 만들고자한다.
    - Authorization: 클라이언트가 서버에게 제공하는 인증 그 자체에 대한 정보를 담고 있다.
    - Cookie: 클라이언트가 서버에게 토큰을 전달할 때 사용한다.
  - 프록시 요청 헤더
    - Max-Forwards 요청이 서버로 향하는 과정에서 다른 프록시나 게이트웨이로 전달될 수 있는 최대횟수. TRACE메서드와 같이쓰인다.
    - Proxy-Authorization: Authorization과 같으나 프록시에서 인증할 때 쓰인다.
    - Proxy-Connection: Connection과 같으나 프로시에서 연결을 맺을 때 사용한다.

## 응답 메시지의 형식

```
<버전><상태코드><사유구절>

<헤더>

<엔티티본문>
```

- 상태코드
  - 요청중에 무엇이일어났는지 설명한다.

- 사유 구절
  - 숫자로 된 상태 코드의 의미를 사람이 이해할 수 있게 설명해주는 짧은 문구이다.
  - 오로지 사람이 읽기 위한 목적이다.
  - 사유 구절은 상태코드와 일대일로 대응된다. 애플리케이션 개발자들이 그들의 사용자에게 요청중에 무슨 일이 일어났는지 알려주기 위해 넘겨줄 수 있는 상태 코드의 사람이 이해하기 쉬운 버전이다.

- 응답 헤더
  - 응답 보안 헤더
    - proxy-Authenticate: 프록시에서 클라이언트로 보낸 인증요구의 목록
    - Set-Cookie: 서버가 클라이언트를 인증할 수 있도록 클라이언트측에 토큰을 설정하기 위해 사용한다.
    - WWW-Authenticate: 서버에서 클라리언트로 보낸 인증요구의 목록

## 시작줄

- 모든 HTTP메시지는 시작줄로 시작한다. 요청 메시지의 시작줄은 무엇을 해야 하는지 말해준다. 응답 메시지의 시작줄은 무슨 일이 일어났는지 말해준다.

- 요청줄
  - 요청 메시지는 서버에게 리소스에 대해 무언가를 해달라고 부탁한다. 
  - 요청줄의 모든 필드는 공백으로 구분된다.

- 응답줄
  - 응답 메시지는 수행 결과에 대한 상태 정보와 결과 데이터를 클라이언트에게 돌려준다. ( Http/1.0 200 ok )와 같은 방식으로 서술한다. 

## 메서드

메서드 요청의 시작줄은 메서드로 시작하며 서버에게 무엇을 해야 하는지 말해준다. 

- 안전한 메서드
  - GET이나 HEAD메서드를 사용하는 HTTP요청의 결과로 서버에 어떤 작용도 없음을 의미한다.
  - 안전한 메서드가 서버에 작용을 유발하지 않는다는 보장은 없지만, 서버에 영향을 줄 수 있는 안전하지 않은 메서드가 사용될 때 사용자들에게 그 사실을 알려주는 HTTP애플리케이션을 만들 수 있도록 하는 것이다.(결제할때 경고메시지를 띄운다.)

- get
  - 서버에게 리소스를 달라고 요청하기 위해 쓰인다.
- head
  - get과 동일하게 작동하지만 서버는 헤더만클라이언트에게 전달한다.
- put
  - 서버가 요청의 본문을 가지고 요청URL의 이름대로 새 문서를 만들거나 이미 URL이 존재한다면 본문을 사용해서 교체하는 것이다.

- post
  - 서버에 입력데이터를 전송하기 위해 설계되었다. 채워진 폼에 담긴 데이터는 서버로 전송되며 서버는 이를 모아서 보낸다.
- trace
  - 클라이언트가 어떤 요청을 할 때, 그 요청은 방화벽, 프록시, 게이트웨이 등의 애플리케이션을 통과할 수 있다.
  - trace요청은 목적지 서버에서 루프백 진단을 시작한다. 마지막 단계에 있는 서버는 자신이 받은 요청 ㅔ시지를 본문에 넣어 trace응답을 되돌려준다.
  - 따라서 요ㅇ청/응답 연쇄를 따라가면서 자신이 보낸 메시지가 망가졌거나 수정되었는지 진단을 위해 사용된다.
- delete 
  - 서버에게 요청URL로 지정한리소스를 삭제할 것을 요청한다.

## 헤더

요청과 응답 메시지에 추가 정보를 더하며, 기본적으로 이름/값 쌍의 목록이다.( ex. Content-length: 19 )

- 엔티티 헤더 ( 요청과 응답헤더에 모두 사용된다. )
  - 엔터티 캐싱 헤더
    - 리소스에 대해 캐시된 사본이 아직 유효한지등, 엔터티 캐싱에 대한 정보를 제공한다.
    - Expires: 이 엔터티가 더 이상 유요하지 않아 원본을 다시 받아와야 하는 일시


---


서버 방향으로 향하는것을 인바운드라하며 클라이언트방향으로 이동하는것을 아웃바운드라 한다.

요청메시지냐 응답 메시지냐에 관계없이 모든 메시지는 다운스트림으로 흐른다.





